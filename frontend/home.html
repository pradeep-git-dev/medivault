<!doctype html>
<html>
<head>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>
<title>MediVault Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background: #f8f9fa;
    color: #333;
  }

  header {
    background: #00796b;
    color: white;
    padding: 15px 20px;
    font-size: 1.4rem;
    font-weight: 600;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .dashboard {
    display: flex;
    height: calc(100vh - 60px);
  }

  .nav {
    background: #004d40;
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    align-items: center;
    min-width: 60px;
  }

  .nav button {
    background: transparent;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: white;
    padding: 8px;
    border-radius: 6px;
    transition: background 0.2s;
  }

  .nav button:hover {
    background: rgba(255,255,255,0.2);
  }

  .content {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
  }

  .section {
    display: none;
    animation: fadeIn 0.3s ease-in-out;
  }

  .section.active {
    display: block;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  h2 {
    color: #00796b;
    font-weight: 600;
    margin-bottom: 10px;
  }

  h2::before {
    content: '';
    display: block;
    height: 3px;
    width: 40px;
    background: #00796b;
    margin-bottom: 8px;
    border-radius: 2px;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    margin-top: 10px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.05);
    border-radius: 5px;
    overflow: hidden;
  }

  th, td {
    padding: 10px 12px;
    text-align: left;
    border-bottom: 1px solid #eee;
  }

  th {
    background: #00796b;
    color: white;
    font-weight: 600;
  }

  tr:hover td {
    background: #f1f8f7;
  }

  input[type="text"], input[type="date"], input[type="number"], input[type="email"], textarea, select {
    width: 100%;
    padding: 8px 10px;
    margin-top: 5px;
    border-radius: 5px;
    border: 1px solid #ccc;
    font-family: inherit;
    font-size: 0.95rem;
    transition: border-color 0.2s;
  }

  input:focus, textarea:focus, select:focus {
    border-color: #00796b;
    outline: none;
  }

  button, .primary {
    background: #00796b;
    color: white;
    border: none;
    padding: 8px 15px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 0.95rem;
    transition: background 0.2s;
  }

  button:hover, .primary:hover {
    background: #005b4f;
  }

  .two-col {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
  }
  #emergency .two-col {
  flex-direction: column;
  align-items: center;
  gap: 20px;
}

#emergency .two-col > div:first-child {
  order: 2;
  width: 100%;
  overflow-x: auto;
}

#emergency .two-col > div:last-child {
  order: 1;
  text-align: center;
  width: auto;
}


  .qr-box {
    background: white;
    padding: 15px;
    text-align: center;
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0,0,0,0.05);
  }

  .small {
    font-size: 0.85rem;
    color: #666;
  }

  label {
    font-weight: 600;
    margin-top: 10px;
    display: block;
  }

  @media (max-width: 768px) {
    .dashboard {
      flex-direction: column;
    }
    .nav {
      flex-direction: row;
      justify-content: center;
      min-width: 100%;
    }
  }
</style>
</head>
<body>
<header>MediVault â€” Dashboard</header>

 <div class="dashboard">
  <div class="nav" aria-label="Sidebar navigation">
    <button title="Emergency" onclick="showSection('emergency')">ğŸ†˜</button>
    <button title="Visits" onclick="showSection('visits')">ğŸ¥</button>
    <button title="Medications" onclick="showSection('medications')">ğŸ’Š</button>
    <button title="Reports" onclick="showSection('reports')">ğŸ“‹</button>
    <button title="Appointments" onclick="showSection('appointments')">ğŸ“…</button>
    <button title="Doctors" onclick="showSection('doctors')">ğŸ§‘â€âš•ï¸</button>
    <button title="Update Profile" onclick="showSection('updateProfile')">âœï¸</button>
    <button title="Update Sections" onclick="showSection('updateDetails')">ğŸ—‚ï¸</button>
    <button title="Home" onclick="location.href='index.html'">ğŸ </button>
    <button title="Logout" onclick="logout()">ğŸšª</button>
  </div>

  <div class="content">
    <div id="emergency" class="section active">
      <div class="two-col">
        <div>
          <h2>ğŸ†˜ Emergency Records</h2>
          <table id="profileTable">
            <tr><th>Detail</th><th>Information</th></tr>
          </table>
        </div>
        <div>
          <div class="qr-box" id="qrBox">
            <img id="qrImg" src="" alt="QR Code" style="max-width:220px">
            <div class="small" id="qrAlt" style="margin-top:8px"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Visits -->
    <div id="visits" class="section">
      <h2>ğŸ¥ Hospital Visit History</h2>
      <input type="text" id="visitSearch" placeholder="Search visits..." oninput="filterTable(this.value,'visitTable')">
      <div style="max-height:56vh; overflow:auto; margin-top:10px;">
        <table id="visitTable"><thead><tr><th>Date</th><th>Hospital</th><th>Reason</th><th>Doctor</th><th>Notes</th></tr></thead><tbody></tbody></table>
      </div>
    </div>

    <!-- Medications -->
    <div id="medications" class="section">
      <h2>ğŸ’Š Current Medications</h2>
      <input type="text" id="medSearch" placeholder="Search medication..." oninput="filterTable(this.value,'medTable')">
      <div style="max-height:56vh; overflow:auto; margin-top:10px;">
        <table id="medTable"><thead><tr><th>Medication</th><th>Reason</th><th>Dosage</th><th>Time</th></tr></thead><tbody></tbody></table>
      </div>
    </div>

    <!-- Reports -->
    <div id="reports" class="section">
      <h2>ğŸ“‹ Reports & Tests</h2>
      <div style="max-height:56vh; overflow:auto; margin-top:10px;">
        <table id="reportTable"><thead><tr><th>Date</th><th>Test</th><th>Result</th><th>Remarks</th></tr></thead><tbody></tbody></table>
      </div>
    </div>

    <!-- Appointments -->
    <div id="appointments" class="section">
      <h2>ğŸ“… Appointments</h2>
      <div style="max-height:56vh; overflow:auto; margin-top:10px;">
        <table id="apptTable"><thead><tr><th>Date</th><th>Doctor</th><th>Specialty</th><th>Status</th></tr></thead><tbody></tbody></table>
      </div>
    </div>

    <!-- Doctors -->
    <div id="doctors" class="section">
      <h2>ğŸ§‘â€âš•ï¸ Doctors & Specialist Contacts</h2>
      <div style="max-height:56vh; overflow:auto; margin-top:10px;">
        <table id="docTable"><thead><tr><th>Name</th><th>Specialty</th><th>Phone</th><th>Email</th></tr></thead><tbody></tbody></table>
      </div>
    </div>

    <!-- Update Profile -->
    <div id="updateProfile" class="section">
      <h2>âœï¸ Update Profile</h2>
      <form id="updateProfileForm">
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
          <input name="firstName" placeholder="First name">
          <input name="lastName" placeholder="Last name">
          <input name="phone" placeholder="Phone">
          <input name="dob" placeholder="Date of birth (YYYY-MM-DD)">
          <input name="aadhaar" placeholder="Aadhaar">
          <input name="pan" placeholder="PAN">
        </div>
        <textarea name="address" rows="3" placeholder="Address" style="margin-top:10px"></textarea>
        <div style="display:flex; gap:10px; margin-top:8px;">
          <select name="blood" style="width:200px;">
            <option value="">Select blood group</option>
            <option>A+</option><option>A-</option><option>B+</option><option>B-</option>
            <option>AB+</option><option>AB-</option><option>O+</option><option>O-</option>
          </select>
          <input name="emergencyName" placeholder="Emergency contact name" style="flex:1">
          <input name="emergencyPhone" placeholder="Emergency phone" style="flex:1">
        </div>
        <input name="conditions" placeholder="Medical conditions (comma separated)" style="margin-top:10px">
        <input name="medications" placeholder="Medications (comma separated)" style="margin-top:8px">
        <div style="margin-top:12px;">
          <button class="primary" type="submit">Save changes</button>
          <button type="button" onclick="resetForm('updateProfileForm')" style="margin-left:8px">Reset</button>
        </div>
        <div id="updateMsg" class="small" style="margin-top:10px"></div>
      </form>
    </div>

    <!-- Update Medical Sections -->
    <div id="updateDetails" class="section">
      <h2>ğŸ—‚ï¸ Update Medical Sections</h2>
      <form id="updateSectionsForm">
        <label>Appointments (JSON format)</label>
        <textarea name="appointments" rows="3" placeholder='[{"date":"2025-08-05","doctor":"Dr. Meera Rao","specialty":"Cardiologist","status":"Upcoming"}]'></textarea>
        
        <label>Reports & Tests (JSON format)</label>
        <textarea name="reports" rows="3" placeholder='[{"date":"2025-07-10","testName":"Blood Sugar","result":"110 mg/dL","remarks":"Normal"}]'></textarea>
        
        <label>Medications (JSON format)</label>
        <textarea name="medications" rows="3" placeholder='[{"medication":"Metformin","reason":"Diabetes","dosage":"500mg","time":"Morning & Evening"}]'></textarea>
        
        <label>Visits (JSON format)</label>
        <textarea name="visits" rows="3" placeholder='[{"date":"2025-07-12","reason":"Fever","doctor":"Dr. X","notes":"Paracetamol"}]'></textarea>
        
        <label>Doctors (JSON format)</label>
        <textarea name="doctors" rows="3" placeholder='[{"name":"Dr. Meera Rao","specialty":"Cardiologist","phone":"+91 98765 43210","email":"meera@hospital.com"}]'></textarea>

        <br><br>
        <button type="submit">Save Updates</button>
      </form>
    </div>

  </div>
</div>
<script src="js/home.js"></script>
</body>
</html>
